2021-08-05 09:26:16.101 -03:00 [INF] Application is starting
2021-08-05 09:26:16.589 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:26:16.934 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:26:16.934 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:26:16.935 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:26:16.935 -03:00 [INF] Hosting environment: Development
2021-08-05 09:26:16.935 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:26:20.047 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:26:20.181 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 139.5859ms
2021-08-05 09:26:20.214 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:26:20.214 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:26:20.221 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:26:20.221 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:26:20.222 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 8.1375ms
2021-08-05 09:26:20.222 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 8.0000ms
2021-08-05 09:26:20.388 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:26:20.476 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.8341ms
2021-08-05 09:27:46.678 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:27:46.684 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:27:46.726 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:27:46.782 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:27:46.849 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:27:46.890 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 103.8604ms
2021-08-05 09:27:46.893 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:27:46.893 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.SignInManager`1[HotelsApi.Data.ApiUser]' while attempting to activate 'HotelsApi.Controllers.AccountController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method10(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-08-05 09:27:46.913 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 - text/plain 234.7266ms
2021-08-05 09:34:33.059 -03:00 [INF] Application is shutting down...
2021-08-05 09:34:36.852 -03:00 [INF] Application is starting
2021-08-05 09:34:37.109 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:34:37.369 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:34:37.369 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:34:37.369 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:34:37.369 -03:00 [INF] Hosting environment: Development
2021-08-05 09:34:37.369 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:34:39.305 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:34:39.425 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 125.6819ms
2021-08-05 09:34:39.470 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:34:39.470 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:34:39.476 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:34:39.476 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:34:39.477 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.7433ms
2021-08-05 09:34:39.477 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.7478ms
2021-08-05 09:34:39.610 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:34:39.686 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 76.1886ms
2021-08-05 09:34:45.841 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 09:34:45.846 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:34:45.872 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:34:45.902 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:34:45.946 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:34:46.234 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:34:46.962 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:34:46.988 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 48
2021-08-05 09:34:47.004 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:34:47.046 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1140.0098ms
2021-08-05 09:34:47.048 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:34:47.052 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 500 248 application/problem+json;+charset=utf-8 1210.9951ms
2021-08-05 09:35:06.289 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:35:06.290 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:35:06.293 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:35:06.294 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:35:06.296 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:35:06.325 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:35:06.325 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 48
2021-08-05 09:35:06.327 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:35:06.327 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 32.8805ms
2021-08-05 09:35:06.327 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:35:06.328 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 248 application/problem+json;+charset=utf-8 38.7763ms
2021-08-05 09:35:09.147 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:35:09.148 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:35:09.149 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:35:09.149 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:35:09.157 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:35:09.163 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:35:09.164 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 48
2021-08-05 09:35:09.165 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:35:09.165 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 15.2946ms
2021-08-05 09:35:09.165 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:35:09.165 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 248 application/problem+json;+charset=utf-8 17.8628ms
2021-08-05 09:35:24.384 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:35:24.384 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:35:24.384 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:35:24.384 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:35:24.385 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:35:24.385 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:35:24.386 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 48
2021-08-05 09:35:24.387 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:35:24.387 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 2.7634ms
2021-08-05 09:35:24.388 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:35:24.388 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 248 application/problem+json;+charset=utf-8 4.3157ms
2021-08-05 09:38:19.204 -03:00 [INF] Application is shutting down...
2021-08-05 09:38:23.077 -03:00 [INF] Application is starting
2021-08-05 09:38:23.354 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:38:23.616 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:38:23.616 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:38:23.617 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:38:23.617 -03:00 [INF] Hosting environment: Development
2021-08-05 09:38:23.617 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:38:24.660 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:38:24.770 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 116.0049ms
2021-08-05 09:38:24.793 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:38:24.793 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:38:24.799 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:38:24.799 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:38:24.800 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.4744ms
2021-08-05 09:38:24.800 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.4927ms
2021-08-05 09:38:24.919 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:38:25.042 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.5567ms
2021-08-05 09:38:40.467 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:38:40.472 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:38:40.497 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:38:40.530 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:38:40.574 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:38:40.846 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:38:41.551 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:38:41.578 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 48
2021-08-05 09:38:41.594 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:38:41.636 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1101.6889ms
2021-08-05 09:38:41.637 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:38:41.642 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 248 application/problem+json;+charset=utf-8 1174.3340ms
2021-08-05 09:41:04.473 -03:00 [INF] Application is shutting down...
2021-08-05 09:41:08.639 -03:00 [INF] Application is starting
2021-08-05 09:41:08.903 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:41:09.174 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:41:09.174 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:41:09.175 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:41:09.175 -03:00 [INF] Hosting environment: Development
2021-08-05 09:41:09.175 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:41:12.814 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:41:12.910 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 101.1618ms
2021-08-05 09:41:12.951 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:41:12.951 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:41:12.957 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:41:12.957 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:41:12.957 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.5535ms
2021-08-05 09:41:12.957 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.5998ms
2021-08-05 09:41:13.097 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:41:13.217 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 120.2320ms
2021-08-05 09:41:28.449 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:41:28.455 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:41:28.479 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:41:28.521 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:41:28.566 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:41:28.842 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:41:29.547 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:41:29.572 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 48
2021-08-05 09:41:29.589 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:41:29.632 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1106.5128ms
2021-08-05 09:41:29.634 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:41:29.639 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 400 211 application/problem+json;+charset=utf-8 1190.1259ms
2021-08-05 09:50:03.252 -03:00 [INF] Application is shutting down...
2021-08-05 09:50:07.507 -03:00 [INF] Application is starting
2021-08-05 09:50:07.779 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:50:08.034 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:50:08.034 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:50:08.034 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:50:08.034 -03:00 [INF] Hosting environment: Development
2021-08-05 09:50:08.034 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:50:31.806 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:50:31.900 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 96.3305ms
2021-08-05 09:50:31.919 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:50:31.919 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:50:31.925 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:50:31.925 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:50:31.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.6096ms
2021-08-05 09:50:31.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.1637ms
2021-08-05 09:50:32.046 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:50:32.128 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.2197ms
2021-08-05 09:50:36.443 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 09:50:36.447 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:50:36.471 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:50:36.500 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:50:36.544 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:50:36.811 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:50:37.543 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:50:37.570 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 09:50:37.586 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:50:37.628 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1123.7153ms
2021-08-05 09:50:37.630 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:50:37.634 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 4100 131 application/problem+json;+charset=utf-8 1190.5485ms
2021-08-05 09:50:51.592 -03:00 [INF] Application is shutting down...
2021-08-05 09:50:55.487 -03:00 [INF] Application is starting
2021-08-05 09:50:55.756 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:50:56.012 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:50:56.012 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:50:56.012 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:50:56.012 -03:00 [INF] Hosting environment: Development
2021-08-05 09:50:56.012 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:50:57.052 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:50:57.167 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 120.5185ms
2021-08-05 09:50:57.197 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:50:57.197 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:50:57.203 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:50:57.203 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:50:57.204 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.5823ms
2021-08-05 09:50:57.204 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.5527ms
2021-08-05 09:50:57.411 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:50:57.485 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.2068ms
2021-08-05 09:51:01.014 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 09:51:01.018 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:51:01.046 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:51:01.084 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:51:01.129 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:51:01.402 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:51:02.082 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:51:02.106 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 09:51:02.122 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:51:02.163 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1075.6883ms
2021-08-05 09:51:02.165 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:51:02.169 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 1154.5965ms
2021-08-05 09:51:52.033 -03:00 [INF] Application is shutting down...
2021-08-05 09:51:56.132 -03:00 [INF] Application is starting
2021-08-05 09:51:56.411 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:51:56.670 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:51:56.670 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:51:56.671 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:51:56.671 -03:00 [INF] Hosting environment: Development
2021-08-05 09:51:56.671 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:52:06.611 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:52:06.700 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 92.1710ms
2021-08-05 09:52:06.729 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:52:06.729 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:52:06.734 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:52:06.734 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:52:06.735 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.6455ms
2021-08-05 09:52:06.735 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.6460ms
2021-08-05 09:52:06.856 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:52:06.938 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.2800ms
2021-08-05 09:52:10.301 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 09:52:10.310 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:52:10.365 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:52:10.418 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:52:10.468 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:52:10.737 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:52:11.425 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:52:11.451 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 09:52:11.467 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:52:11.509 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1086.87ms
2021-08-05 09:52:11.511 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:52:11.515 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 1213.6695ms
2021-08-05 09:52:22.845 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:52:22.845 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:52:22.848 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:52:22.849 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:52:22.851 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:52:22.874 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:52:22.875 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 09:52:22.876 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:52:22.877 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 27.9264ms
2021-08-05 09:52:22.877 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:52:22.877 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 400 211 application/problem+json;+charset=utf-8 32.6744ms
2021-08-05 09:52:27.292 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 09:52:27.293 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:52:27.293 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:52:27.293 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:52:27.299 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:52:27.305 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:52:27.305 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 09:52:27.306 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:52:27.307 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 13.517ms
2021-08-05 09:52:27.307 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:52:27.307 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 400 211 application/problem+json;+charset=utf-8 14.8970ms
2021-08-05 09:56:38.962 -03:00 [INF] Application is shutting down...
2021-08-05 09:56:42.723 -03:00 [INF] Application is starting
2021-08-05 09:56:43.001 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:56:43.258 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:56:43.258 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:56:43.258 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:56:43.258 -03:00 [INF] Hosting environment: Development
2021-08-05 09:56:43.259 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:56:48.011 -03:00 [INF] Application is shutting down...
2021-08-05 09:56:50.661 -03:00 [INF] Application is starting
2021-08-05 09:56:50.945 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 09:56:51.203 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 09:56:51.203 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 09:56:51.204 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 09:56:51.204 -03:00 [INF] Hosting environment: Development
2021-08-05 09:56:51.204 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 09:56:56.836 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 09:56:56.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 93.6780ms
2021-08-05 09:56:56.958 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 09:56:56.958 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 09:56:56.965 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 09:56:56.965 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 09:56:56.966 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 7.6385ms
2021-08-05 09:56:56.966 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 7.5774ms
2021-08-05 09:56:57.092 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 09:56:57.192 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.5737ms
2021-08-05 09:57:00.804 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 09:57:00.809 -03:00 [INF] CORS policy execution successful.
2021-08-05 09:57:00.833 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:57:00.865 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 09:57:00.909 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 09:57:01.182 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 09:57:01.887 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 09:57:01.912 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 09:57:01.928 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 09:57:01.970 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1101.1739ms
2021-08-05 09:57:01.972 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 09:57:01.976 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 1172.5739ms
2021-08-05 10:01:00.683 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:01:00.684 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:01:00.686 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:00.686 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:01:00.689 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:01:00.715 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:01:00.716 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 10:01:00.718 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:01:00.719 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 31.9697ms
2021-08-05 10:01:00.719 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:00.719 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 36.2849ms
2021-08-05 10:01:03.503 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:01:03.504 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:01:03.504 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:03.504 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:01:03.510 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:01:03.516 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:01:03.517 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 10:01:03.518 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:01:03.518 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 13.6684ms
2021-08-05 10:01:03.518 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:03.518 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 15.6337ms
2021-08-05 10:01:05.997 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:01:05.998 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:01:05.998 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:05.998 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:01:05.999 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:01:06.000 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:01:06.001 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 10:01:06.004 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:01:06.004 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 5.4753ms
2021-08-05 10:01:06.005 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:06.005 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 7.9366ms
2021-08-05 10:01:07.396 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:01:07.396 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:01:07.396 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:07.396 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:01:07.397 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:01:07.397 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:01:07.398 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 47
2021-08-05 10:01:07.399 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:01:07.399 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 2.6332ms
2021-08-05 10:01:07.399 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:01:07.400 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 400 211 application/problem+json;+charset=utf-8 3.8091ms
2021-08-05 10:05:24.805 -03:00 [INF] Application is shutting down...
2021-08-05 10:05:28.700 -03:00 [INF] Application is starting
2021-08-05 10:05:28.965 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 10:05:29.230 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 10:05:29.231 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 10:05:29.231 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 10:05:29.231 -03:00 [INF] Hosting environment: Development
2021-08-05 10:05:29.231 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 10:05:47.873 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 10:05:47.989 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 120.5872ms
2021-08-05 10:05:48.018 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 10:05:48.018 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 10:05:48.023 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 10:05:48.024 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 10:05:48.024 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.6434ms
2021-08-05 10:05:48.025 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.5552ms
2021-08-05 10:05:48.134 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 10:05:48.210 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 76.0057ms
2021-08-05 10:06:03.015 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 140
2021-08-05 10:06:03.018 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:06:03.043 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:06:03.074 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:06:03.117 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 10:06:03.388 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:06:04.089 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:06:04.114 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 46
2021-08-05 10:06:04.130 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:06:04.172 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1094.1125ms
2021-08-05 10:06:04.174 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:06:04.178 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 140 - 500 248 application/problem+json;+charset=utf-8 1163.0483ms
2021-08-05 10:07:09.653 -03:00 [INF] Application is shutting down...
2021-08-05 10:08:11.044 -03:00 [INF] Application is starting
2021-08-05 10:08:11.331 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 10:08:11.592 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 10:08:11.592 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 10:08:11.592 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 10:08:11.592 -03:00 [INF] Hosting environment: Development
2021-08-05 10:08:11.593 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 10:08:12.722 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 10:08:12.837 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 119.8771ms
2021-08-05 10:08:12.868 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 10:08:12.869 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 10:08:12.874 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 10:08:12.874 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 10:08:12.875 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 6.9754ms
2021-08-05 10:08:12.875 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 6.6927ms
2021-08-05 10:08:12.997 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 10:08:13.084 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 87.3783ms
2021-08-05 10:08:16.781 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:08:16.785 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:08:16.810 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:08:16.840 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:08:16.884 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 10:08:17.154 -03:00 [INF] Registration Attempt for user@example.com 
2021-08-05 10:08:17.845 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:08:17.869 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 52
2021-08-05 10:08:17.886 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:08:17.927 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1082.9187ms
2021-08-05 10:08:17.929 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:08:17.933 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 500 248 application/problem+json;+charset=utf-8 1151.8202ms
2021-08-05 10:08:39.574 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 10:08:39.575 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:08:39.577 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:08:39.577 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:08:39.579 -03:00 [INF] Registration Attempt for user@example.com 
2021-08-05 10:08:39.606 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:08:39.607 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 52
2021-08-05 10:08:39.608 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:08:39.609 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 31.026ms
2021-08-05 10:08:39.609 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:08:39.609 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 248 application/problem+json;+charset=utf-8 35.1770ms
2021-08-05 10:25:55.984 -03:00 [INF] Application is shutting down...
2021-08-05 10:26:07.128 -03:00 [INF] Application is starting
2021-08-05 10:26:07.400 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 10:26:07.664 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 10:26:07.664 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 10:26:07.664 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 10:26:07.665 -03:00 [INF] Hosting environment: Development
2021-08-05 10:26:07.665 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 10:26:08.648 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 10:26:08.744 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 99.7951ms
2021-08-05 10:26:08.813 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 10:26:08.813 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 10:26:08.819 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 10:26:08.820 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 10:26:08.820 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 7.0969ms
2021-08-05 10:26:08.820 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 7.0818ms
2021-08-05 10:26:08.939 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 10:26:09.019 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.8563ms
2021-08-05 10:26:18.614 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 10:26:18.618 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:26:18.644 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:26:18.677 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:26:18.722 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 10:26:18.996 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:26:19.701 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:26:19.726 -03:00 [ERR] Something Went Wrong in the Register
System.InvalidOperationException: Cannot create a DbSet for 'ApiUser' because this type is not included in the model for the context.
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore`9.FindByNameAsync(String normalizedUserName, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 46
2021-08-05 10:26:19.742 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:26:19.786 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1104.9605ms
2021-08-05 10:26:19.788 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:26:19.792 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 500 248 application/problem+json;+charset=utf-8 1178.0670ms
2021-08-05 10:28:26.416 -03:00 [INF] Application is shutting down...
2021-08-05 10:28:30.468 -03:00 [INF] Application is starting
2021-08-05 10:28:30.754 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 10:28:31.018 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 10:28:31.018 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 10:28:31.019 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 10:28:31.019 -03:00 [INF] Hosting environment: Development
2021-08-05 10:28:31.019 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 10:28:32.564 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 10:28:32.659 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 97.1959ms
2021-08-05 10:28:32.697 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 10:28:32.697 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 10:28:32.703 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 10:28:32.703 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 10:28:32.704 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 7.1591ms
2021-08-05 10:28:32.704 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 7.1921ms
2021-08-05 10:28:32.845 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 10:28:32.934 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 89.1081ms
2021-08-05 10:28:36.345 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:28:36.354 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:28:36.410 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:28:36.467 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:28:36.518 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 10:28:36.795 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:28:37.505 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:28:38.156 -03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-08-05 10:28:38.183 -03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'HotelsApi.Data.DatabaseContext'.
Npgsql.PostgresException (0x80004005): 42703: column a.FirstName does not exist
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.FirstName does not exist
    Position: 92
    File: parse_relation.c
    Line: 3504
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column a.FirstName does not exist
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.FirstName does not exist
    Position: 92
    File: parse_relation.c
    Line: 3504
    Routine: errorMissingColumn
2021-08-05 10:28:38.189 -03:00 [ERR] Something Went Wrong in the Register
Npgsql.PostgresException (0x80004005): 42703: column a.FirstName does not exist
   at Npgsql.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|194_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateUserName(UserManager`1 manager, TUser user, ICollection`1 errors)
   at Microsoft.AspNetCore.Identity.UserValidator`1.ValidateAsync(UserManager`1 manager, TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.ValidateUserAsync(TUser user)
   at Microsoft.AspNetCore.Identity.UserManager`1.CreateAsync(TUser user)
   at HotelsApi.Controllers.AccountController.Register(UserDTO userDTO) in /home/vinicius/Documents/Projects/HotelsApi/Controllers/AccountController.cs:line 46
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column a.FirstName does not exist
    Position: 92
    File: parse_relation.c
    Line: 3504
    Routine: errorMissingColumn
2021-08-05 10:28:38.204 -03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2021-08-05 10:28:38.247 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1775.7097ms
2021-08-05 10:28:38.248 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:28:38.253 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 500 248 application/problem+json;+charset=utf-8 1907.6247ms
2021-08-05 10:28:59.755 -03:00 [INF] Application is shutting down...
2021-08-05 10:32:33.340 -03:00 [INF] Application is starting
2021-08-05 10:32:33.630 -03:00 [INF] User profile is available. Using '/home/vinicius/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2021-08-05 10:32:33.895 -03:00 [INF] Now listening on: https://localhost:5001
2021-08-05 10:32:33.896 -03:00 [INF] Now listening on: http://localhost:5000
2021-08-05 10:32:33.896 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2021-08-05 10:32:33.896 -03:00 [INF] Hosting environment: Development
2021-08-05 10:32:33.896 -03:00 [INF] Content root path: /home/vinicius/Documents/Projects/HotelsApi
2021-08-05 10:32:37.091 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - -
2021-08-05 10:32:37.173 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - - - 200 - text/html;charset=utf-8 82.9660ms
2021-08-05 10:32:37.209 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - -
2021-08-05 10:32:37.209 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - -
2021-08-05 10:32:37.216 -03:00 [INF] The file /swagger-ui-bundle.js was not modified
2021-08-05 10:32:37.216 -03:00 [INF] The file /swagger-ui-standalone-preset.js was not modified
2021-08-05 10:32:37.218 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - - - 304 - application/javascript 8.9334ms
2021-08-05 10:32:37.218 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - - - 304 - application/javascript 8.9144ms
2021-08-05 10:32:37.336 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - -
2021-08-05 10:32:37.422 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 86.1018ms
2021-08-05 10:32:41.002 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133
2021-08-05 10:32:41.006 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:32:41.035 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:32:41.075 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:32:41.120 -03:00 [WRN] 'AddEntityFramework*' was called on the service provider, but 'UseInternalServiceProvider' wasn't called in the DbContext options configuration. Consider removing the 'AddEntityFramework*' call, as in most cases it's not needed and may cause conflicts with other products and services registered in the same service provider.
2021-08-05 10:32:41.400 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:32:42.111 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:32:42.713 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-08-05 10:32:42.739 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-08-05 10:32:42.900 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-08-05 10:32:42.930 -03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-08-05 10:32:42.935 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 1855.426ms
2021-08-05 10:32:42.936 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:32:42.942 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 133 - 202 0 - 1939.3833ms
2021-08-05 10:33:01.528 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136
2021-08-05 10:33:01.529 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:33:01.530 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:33:01.530 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:33:01.532 -03:00 [INF] Registration attempt for user@example.com
2021-08-05 10:33:01.556 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:33:01.560 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-08-05 10:33:01.569 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-08-05 10:33:01.572 -03:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2021-08-05 10:33:01.574 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2021-08-05 10:33:01.635 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 104.4666ms
2021-08-05 10:33:01.635 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:33:01.636 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 136 - 400 135 application/json;+charset=utf-8 107.9565ms
2021-08-05 10:33:10.109 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 137
2021-08-05 10:33:10.110 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:33:10.110 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:33:10.111 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:33:10.117 -03:00 [INF] Registration attempt for use3r@example.com
2021-08-05 10:33:10.123 -03:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL' with options: None
2021-08-05 10:33:10.125 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2021-08-05 10:33:10.126 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2021-08-05 10:33:10.128 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-08-05 10:33:10.134 -03:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2021-08-05 10:33:10.135 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 23.9368ms
2021-08-05 10:33:10.135 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:33:10.136 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 137 - 202 0 - 27.2169ms
2021-08-05 10:33:24.635 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 118
2021-08-05 10:33:24.635 -03:00 [INF] CORS policy execution successful.
2021-08-05 10:33:24.635 -03:00 [INF] Executing endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:33:24.636 -03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelsApi.Models.UserDTO) on controller HotelsApi.Controllers.AccountController (HotelsApi).
2021-08-05 10:33:24.637 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2021-08-05 10:33:24.655 -03:00 [INF] Executed action HotelsApi.Controllers.AccountController.Register (HotelsApi) in 18.6233ms
2021-08-05 10:33:24.655 -03:00 [INF] Executed endpoint 'HotelsApi.Controllers.AccountController.Register (HotelsApi)'
2021-08-05 10:33:24.655 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Account/register application/json-patch+json 118 - 400 264 application/problem+json;+charset=utf-8 19.9175ms
